(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{3821:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/paymentHistory",function(){return n(5717)}])},753:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(5893),s=n(9008),l=n.n(s),a=n(1163),i=n(2962);let x={site_name:"PFFT.AI",title:"PFFT.AI NEWS",description:"Starter code for your Nextjs Boilerplate with Tailwind CSS",locale:"en"},c=e=>{let t=(0,a.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(i.PB,{title:e.title,description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:x.locale,site_name:x.site_name}})]})}},5905:function(e,t){"use strict";async function n(e){let{body:t,URL:n,method:r}=e,s={method:r,headers:{"Content-Type":"application/json"}};s="GET"===r?{...s,method:r}:{...s,method:r,body:JSON.stringify(t)};try{let e=await fetch(n,s),t=await e.json();return t}catch(e){console.error(e)}}t.Z=n},5717:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(753),l=n(7294),a=n(6278);n(2518);var i=n(2105),x=n.n(i),c=n(9930),o=n(3299);let p=()=>{var e,t,n;let i=(0,o.useSession)().data,[p,d]=(0,l.useState)([]),[m,u]=(0,l.useState)(!1),[h,g]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{var e;let t=async()=>{var e;u(!0);let t="/api/transaction?userID=".concat(null==i?void 0:null===(e=i.user)||void 0===e?void 0:e._id).concat(h?"&startingAfter=".concat(h):"");try{let e=await fetch(t),n=await e.json();d(n.data),u(!1)}catch(e){console.error("Error retrieving transaction history:",e)}};(null==i?void 0:null===(e=i.user)||void 0===e?void 0:e._id)&&t()},[i,h]),(0,l.useEffect)(()=>{function e(){let{scrollTop:e,clientHeight:t,scrollHeight:n}=document.documentElement;if(t&&e+t>=n){let e=p[(null==p?void 0:p.length)-1];g(null==e?void 0:e.id)}}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.jsx)(a.o,{meta:(0,r.jsx)(s.h,{title:"Payment History",description:"Payment History"}),children:m?(0,r.jsx)("div",{className:"flex justify-center items-center px-5 py-3",children:(0,r.jsx)(x(),{color:"#FF8B4B",size:20})}):(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"mx-4",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("h1",{className:"text-black-100 text-[27px] font-courierPrime font-bold slg:text-[35px] xl:text-[55px]",children:"PAYMENT HISTORY"})}),(0,r.jsxs)("div",{className:"bg-black  break-all  md:flex md:grid-cols-2 md:gap-4 justify-left md:my-10 my-4 grid-rows-1 grid justify-center md:justify-start gap-2 mx-10",children:[(0,r.jsx)("div",{className:"md:col-span-1 row-span-1 ",children:(0,r.jsx)("div",{className:"relative flex justify-center",children:(0,r.jsx)("div",{className:"h-[60px]  w-[60px] relative rounded-full bg-[#FF8E4C] border-2 border-[#FF0000] justify-center xs:h-[80px] xs:w-[80px] sm:h-[75px] sm:w-[75px] md:h-[90px] md:w-[90px] slg:h-[100px] slg:w-[100px] lg:h-[120px] lg:w-[120px] xl:h-[144px] xl:w-[144px] xl:border-4",children:(0,r.jsx)("div",{className:"relative flex justify-center",children:(0,r.jsx)("div",{className:"font-[700] text-white font-courierPrime text-[40px] xs:text-[54px] md:text-[60px] slg:text-[70px] lg:text-[80px] xl:text-[95px]",children:function(e){let t=null==e?void 0:e.split(" "),n=null==t?void 0:t.map(e=>e.charAt(0).toUpperCase()),r=null==n?void 0:n.join("");return r}(null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.name)})})})})}),(0,r.jsx)("div",{className:"md:col-span-1 row-span-1 md:text-left text-center",children:(0,r.jsxs)("div",{className:"md:my-[0.5rem] lg:my-[2.25rem] lg:col-span-4 xl:col-span-10 xl:my-[2.5rem]",children:[(0,r.jsx)("div",{className:"font-bold text-[14px] text-black-100  font-courierPrime   xs:text-[24px]   ",children:null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.name}),(0,r.jsx)("div",{className:"font-[400] text-[14px] text-black-100 font-courierPrime leading-6   xs:text-[24px]   ",children:null==i?void 0:null===(n=i.user)||void 0===n?void 0:n.email})]})})]})]}),(0,r.jsx)("div",{className:"mx-4 overflow-auto rounded-xl my-8",children:(0,r.jsxs)("table",{className:"flextable-auto w-full  bg-[#FDDDD2] shadow-xl",children:[(0,r.jsx)("thead",{className:"border-b-2 border-dashed border-[#44576D] py-3",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"#"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Status"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Name"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Email"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Amount"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Paid On"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap py-2",children:"Expiry Date"}),(0,r.jsx)("th",{className:"md:py-4 px-2  text-[#FF0000] font-courierPrime md:text-[18px] slg:text-[24px] text-[15px] whitespace-nowrap",children:"Invoice"})]})}),(0,r.jsx)("tbody",{className:"py-4",children:(null==p?void 0:p.length)>0&&(null==p?void 0:p.map((e,t)=>{let n=new Date(new Date(1e3*e.created).getTime()+2592e6).toLocaleDateString();return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2 font-courierPrime text-center text-black-100 slg:text-[22px] font-bold md:text-[18px] py-2 text-[12px]",children:t+1}),(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2 font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:"succeeded"===e.status?(0,r.jsx)("span",{className:"flex items-center text-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):(0,r.jsx)("span",{className:"flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2  font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:e.billing_details.name}),(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2  font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:e.billing_details.email}),(0,r.jsxs)("td",{className:"md:py-6 slg:px-7 px-2  font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:[(0,c.DV)(e.amount),"$"]}),(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2  font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:new Date(1e3*e.created).toLocaleDateString()}),(0,r.jsx)("td",{className:"md:py-6 slg:px-7 px-2  font-courierPrime text-center text-black-100 slg:text-[22px] md:text-[18px] text-[12px] whitespace-nowrap",children:n}),(0,r.jsx)("td",{className:" md:py-6 slg:px-7 px-2 font-courierPrime text-center text-black-100 slg:text-[14px] md:text-[14px] text-[12px] whitespace-nowrap cursor-pointer",children:(0,r.jsx)("a",{className:"bg-white py-2 px-5 text-[black] rounded-lg",href:e.receipt_url,target:"_blank",rel:"noopener noreferrer",children:"View"})})]},e.id)}))})]})})]})})};t.default=p},6278:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var r=n(5893),s=n(1163),l=n(3299),a=n(7294);let i=()=>{let e=(0,s.useRouter)(),{data:t}=(0,l.useSession)(),n=()=>{(0,l.signOut)({callbackUrl:"/"})};return(0,r.jsx)("div",{className:"md:mx-8",children:(0,r.jsx)("nav",{className:"py-6",children:(0,r.jsxs)("ul",{className:"flex justify-between border-none text-gray-700",children:[(0,r.jsx)("li",{className:"mr-3 md:ml-3 ml-4 pt-1 md:leading-9 md:mr-6 cursor-pointer    h-[10px] w-[100px]   xms:h-[20px] xms:w-[125px]    md:h-[37px] md:w-[191px]",children:(0,r.jsx)("img",{onClick:()=>{e.push("/")},src:"/assets/icons/Logo.svg",alt:"AppLogo"})}),(0,r.jsx)("li",{className:"flex font-courierPrime text-[13px] sm:text-[16px] md:text-[32px] font-normal leading-9 md:leading-9 text-black",children:t?(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{onClick:()=>{e.push("/account")},className:"mr-2 sm:mr-6 cursor-pointer hover:text-gray-900 underline underline-offset-8  decoration-[#FF0000] decoration-2",children:"account"}),(0,r.jsx)("span",{className:"md:mr-4 mr-4  border-none text-black cursor-pointer hover:text-gray-900",onClick:e=>{e.preventDefault(),n()},children:"logout"})]}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{className:"mr-2 sm:mr-6 cursor-pointer hover:text-gray-900",onClick:()=>{e.push("/signin")},children:"login"}),(0,r.jsx)("span",{className:"mr-2 sm:mr-6 cursor-pointer hover:text-gray-900",onClick:()=>{e.push("/signup")},children:"Signup"})]})})]})})})};var x=n(1930),c=n(5905);let o=()=>{let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await (0,c.Z)({body:{},URL:"/api/getAllHeadlines",method:"GET"});t(e.headlines)}catch(e){console.error(e)}};return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(x.ReactTicker,{data:null==e?void 0:e.map(e=>e),speed:54,keyName:"_id"})})},p=()=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"text-[#000000] font-copperplate ml-2 mr-2 2xl:py-1",children:[(0,r.jsx)("span",{className:" font-[700]    text-[12px] leading-[22px]   sm:text-[21px] sm:leading-[28px]   md:text-[22px] md:leading-[29px]   lg:text-[23px] lg:leading-[30px]   xl:text-[24px] xl:leading-[31px] xl:ml-1   2xl:text-[34px] 2xl:leading-[31px]",children:"PFFT"}),(0,r.jsx)("span",{className:"ml-1 mr-1 font-[700]    text-[10px] leading-[22px]   sm:text-[16px] sm:leading-[28px]   md:text-[17px] md:leading-[29px]   lg:text-[18px] lg:leading-[30px]   xl:text-[19px] xl:leading-[31px]    2xl:text-[25px] 2xl:leading-[31px]",children:".AI"}),(0,r.jsx)("span",{className:"font-[700]    text-[12px] leading-[22px]   sm:text-[21px] sm:leading-[28px]   md:text-[22px] md:leading-[29px]   lg:text-[23px] lg:leading-[30px]   xl:text-[24px] xl:leading-[31px]   2xl:text-[34px] 2xl:leading-[31px]",children:"NEWS"})]}),(0,r.jsx)(o,{})]});var d=n(2920);function m(e){let t=(0,s.useRouter)(),n="/account"===t.pathname,l="/payment"===t.pathname;return(0,r.jsxs)("div",{className:"w-full text-gray-700 antialiased",children:[e.meta,(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(d.Ix,{}),(0,r.jsx)("header",{className:"",children:(0,r.jsx)(i,{})}),(0,r.jsx)("main",{className:"content py-5 text-xl",children:e.children})]}),!n&&!l&&(0,r.jsx)("footer",{className:"fixed z-10 w-full bottom-0 h-77 bg-gradient-red-1-to-red-2",children:(0,r.jsx)(p,{})})]})}},9930:function(e,t,n){"use strict";function r(e){return e/100}function s(e){if("1000"===e){let e=(Number("7.25")*Number("4.99")/100).toString(),t=parseFloat("4.99")+parseFloat(e);return{vatValue:e,ToPay:t}}{let e=(Number("7.25")*Number("9.99")/100).toString(),t=parseFloat("9.99")+parseFloat(e);return{vatValue:e,ToPay:t}}}function l(e){let t=new Date(e),n=t.getMonth()+1,r=t.getDate(),s=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(s)}async function a(e){try{let t=await fetch("/api/createShortLink?link=".concat(e),{method:"GET"});if(!t.ok)throw Error("Failed to create short URL");let n=await t.json();return n.shortUrl}catch(e){console.error(e)}}async function i(e){try{let t=await fetch("/api/getShortLink?hash=".concat(encodeURIComponent(e)),{method:"GET"});t.ok||console.log("Failed to fetch destination");let n=await t.json();return n.destination}catch(e){console.error(e)}}n.d(t,{Cn:function(){return a},DV:function(){return r},Dm:function(){return l},Y3:function(){return i},fp:function(){return s}}),n(1354)},2518:function(){},2480:function(){}},function(e){e.O(0,[379,570,201,774,888,179],function(){return e(e.s=3821)}),_N_E=e.O()}]);