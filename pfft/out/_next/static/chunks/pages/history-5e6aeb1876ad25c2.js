(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3639:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return s(2602)}])},2602:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var l=s(5893),r=s(7294);s(1399);var x=s(1163),i=s(753),a=s(6278),n=s(3299),c=s(6573),o=s(6616),d=s(9930);let p=e=>{let{items:t}=e,[s,x]=(0,r.useState)(null),[i,a]=(0,r.useState)(!1),p=(0,n.useSession)().data,[m,h]=(0,r.useState)(""),[u,g]=(0,r.useState)(""),f=()=>{v(u),a(!i)},j=e=>{s===e?x(null):x(e)},v=async e=>{await (0,d.Cn)("".concat("http://localhost:3000/","blog?blogID=").concat(e)).then(e=>{h(e)})};return(0,l.jsx)("div",{className:"grid mt-2 mb-4 visible md:hidden",children:t.map((e,t)=>{var x,a;return(0,l.jsxs)("div",{className:"p-4 ",children:[s===t&&(0,l.jsxs)("div",{className:"justify-center",children:[(0,l.jsx)("h3",{className:"font-copperplate font-bold text-black-100 text-[32px] justify-center p-2",children:e.headline}),(0,l.jsxs)("h3",{className:"text-lg font-courierPrime text-[#44576D] justify-center    xs:pl-[5.25rem]    pl-[4.25rem] md:pl-1",children:["By AI ",null==p?void 0:null===(x=p.user)||void 0===x?void 0:x.name]}),(0,l.jsx)("div",{className:"pl-[4.25rem] md:pl-1",children:(0,l.jsx)("p",{className:"bg-gradient-to-r from-orange-100 to-orange-200 hover:bg-orange-100 text-white text-sm rounded-full font-copperplate py-2 px-4 w-[6.5rem]",children:"@PFFT.AI"})}),(0,l.jsx)("div",{className:"h-[1px] lg:w-2/5 xl:w-[25%] mb-5 bg-gray-400 rounded-xl  w-full mt-[0.75rem]"})]}),(0,l.jsx)("div",{className:"flex justify-center items-center cursor-pointer font-bold rounded-xl border-2 ".concat(s===t?"border-orange-500 border-4":"border-gray-400"),onClick:()=>j(t),children:(0,l.jsx)("h1",{className:"font-courierPrime p-2 text-[20px]",children:e.headline})}),s===t&&(0,l.jsxs)("div",{className:"justify-center p-4 font-courierPrime text-wrap",children:[(0,l.jsx)("p",{children:e.article.split("<br>").map((e,t)=>(0,l.jsxs)(r.Fragment,{children:[e,(0,l.jsx)("br",{})]},t+e))}),(0,l.jsx)("div",{className:"col-span-1 flex flex-col items-center xl:order-3 xl:h-screen xl:justify-center lg:order-3 lg:h-screen lg:justify-center slg:order-2 slg:justify-start order-2 justify-end",children:(0,l.jsxs)("div",{className:"relative",style:{minHeight:"100px"},children:[(0,l.jsx)("button",{className:"rounded-3xl bg-gradient-to-r from-orange-100 to-orange-200 2xl:w-[267px] 2xl:h-[106px] 2xl:mb-[3rem] 2xl:text-[32px] xl:w-[180px] xl:h-[100px] xl:mb-[3rem] xl:text-[30px] lg:w-[150px] lg:h-[90px] lg:mb-[3rem] lg:text-[24px] lg:font-normal md:w-[210px] md:h-[100px] md:text-[32px] md:mt-[0.5rem] xs:w-[190px] xs:h-[56px] xs:mt-[3rem] xs:text-[20px] w-[190px] h-[56px] mt-[3rem] text-[20px] text-slate-50 font-courierPrime",onClick:()=>{g(e._id),f()},children:"Share"}),i&&(0,l.jsxs)("div",{className:"w-full relative mt-2 border-2 border-[#FF4738] bg-white rounded-2xl shadow-lg 4",children:[(0,l.jsxs)("ul",{className:"flex justify-around",children:[(0,l.jsx)("li",{className:"",children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[40px] h-[40px]",src:"/assets/images/insta.png",alt:"Instagram"})}),(0,l.jsx)(c.Z,{url:m,hashtag:"#pfft",children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[40px] h-[40px]   md:w-[30px] md:h-[30px]   lg:w-[45px] lg:h-[45px]",src:"/assets/images/facebook.png",alt:"Facebook"})}),(0,l.jsx)(o.Z,{url:m,title:e.headline,via:null==p?void 0:null===(a=p.user)||void 0===a?void 0:a.name,children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[40px] h-[40px]   md:w-[30px] md:h-[30px]   lg:w-[45px] lg:h-[45px]",src:"/assets/images/twitter.png",alt:"Twitter"})})]}),(0,l.jsx)("ul",{className:"flex justify-around",children:(0,l.jsx)("li",{className:"",children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[60px] h-[60px]",src:"/assets/images/yahoo.png",alt:"Yahoo"})})})]})]})})]})]},t+e.headline)})})};var m=s(5905),h=s(2105),u=s.n(h);s(2518);let g=()=>{var e,t,s,h,g;let f=(0,x.useRouter)(),[j,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)([]),y=(0,n.useSession)().data,[N,F]=(0,r.useState)(""),[_,k]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),[I,E]=(0,r.useState)(""),[T,H]=(0,r.useState)((null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id)||""),[A,Z]=(0,r.useState)([]),[B,L]=(0,r.useState)(),[O,U]=(0,r.useState)(!1),[G,R]=(0,r.useState)(""),X=()=>{v(!j)};(0,r.useEffect)(()=>{var e;H(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id)}),(0,r.useEffect)(()=>{T&&z()},[T]);let z=async()=>{P(!0);try{let e=await (0,m.Z)({body:{},URL:"/api/getHistory?userID=".concat(T),method:"GET"});Z(e.history),w(e.history),0===e.history.length?(F(""),C("")):(F(e.history[0]._id),E(e.history[0]._id),C(e.history[0].article)),P(!1)}catch(e){console.error(e),P(!1)}},Y=(e,t)=>{F(e===N?"":e),C(t),E(e)},q=async()=>{await (0,d.Cn)("".concat("http://localhost:3000/","blog?blogID=").concat(I)).then(e=>{R(e)}),k(!_)};return(0,r.useEffect)(()=>{var e;let t=async()=>{var e;let t={body:{},URL:"/api/getUserPayment?userID=".concat(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id),method:"GET"};try{let e=await (0,m.Z)(t);e?L(e):L({credit:0});return}catch(e){console.error(e)}};(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id)&&t()},[y]),(0,r.useEffect)(()=>{var e;let t=async()=>{P(!0);try{var e;let t=await fetch("/api/getsubscriptionDetails?userID=".concat(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();if(s){let e=new Date().toLocaleDateString(),t=new Date(e),l=new Date(s.expiry);t>l?U(!1):t<l&&U(!0)}P(!1)}catch(e){console.error("Error fetching transactions:",e)}};(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e._id)&&t()},[B]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(a.o,{meta:(0,l.jsx)(i.h,{title:"History",description:"History"}),children:[D?(0,l.jsx)("div",{className:"justify-center flex items-center visible md:hidden",children:(0,l.jsx)(u(),{color:"#FF854A",size:20})}):(0,l.jsx)(l.Fragment,{children:(null==A?void 0:A.length)>0?(0,l.jsxs)("div",{className:"justify-center p-2 visible md:hidden overflow-auto w-full",children:[(0,l.jsxs)("div",{className:"   grid justify-center   ",children:[(0,l.jsx)("div",{onClick:X,className:"flex justify-center",children:(0,l.jsx)("img",{className:"object-cover rounded-full cursor-pointer justify-center\n                              w-[40px] h-[40px]\n                              sm:w-[50px] sm:h-[50px]\n                              slg:w-[40px] slg:h-[40px]\n                              xl:w-[60px] xl:h-[60px]\n                              ".concat(""),src:"/assets/images/menu_icon.svg",alt:"Image"})}),j&&(0,l.jsx)("div",{className:"w-fit mt-[1.5rem]border-[#FF4738]    lg:-mt-[1rem]   slg:w-fit slg:-mt-[1rem]    xl:w-[150px]",children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{onClick:()=>{f.push("/")},className:"cursor-pointer border-[2px] border-[#FF3633] font-[400]  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0   ",children:"PFFT"}),!O&&(0,l.jsx)("li",{onClick:()=>{f.push("/payment")},className:"cursor-pointer border-[2px] border-[#FF3633] font-[400]  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0   ",children:"Payment"}),(0,l.jsx)("li",{className:"cursor-pointer border-[2px] border-[#FF3633] font-bold  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0   ",children:"History"})]})})]}),(0,l.jsx)("div",{className:"justify-center items-center md:invisible",children:(null==b?void 0:b.length)>0&&(0,l.jsx)(p,{items:b})})]}):(0,l.jsx)("div",{className:"visible md:hidden overflow-auto w-full",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center content-center mt-40 md:mt-20",children:[(0,l.jsx)("img",{className:"   object-cover    w-[200px] h-[130px]   xs:w-[220px] xs:h-[150px]   xms:w-[230px] xms:h-[150px]   sm:w-[250px] sm:h-[170px]    md:w-[350px] md:h-[252px]    lg:w-[580px] lg:h-[390px]   xl:w-[750px] xl:h-[530px]    ",src:"/assets/images/blocked_words.svg",alt:"Image"}),(0,l.jsxs)("div",{className:"   my-12 mx-12 text-center   text-[7px]   xs:text-[10px]   xms:text-[11px]   sm:text-[15px]   md:text-[20px]   lg:text-[25px]   xl:text-[35px]   cursor-pointer leading-[40px] font-courierPrime ",children:[(0,l.jsx)("span",{className:"font-[400] text-[black]",children:"Oops! Looks like there's no history available. "}),(0,l.jsx)("span",{className:"text-[#FF3031]",onClick:()=>{f.push("/")},children:"pfft"})]})]})})}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)("div",{className:"flex flex-col min-h-screen ",children:(0,l.jsx)("main",{className:"flex-grow animate__animated animate__backInDown",children:D?(0,l.jsx)("div",{className:"justify-center flex items-center visible md:hidden",children:(0,l.jsx)(u(),{color:"#FF854A",size:20})}):(0,l.jsx)(l.Fragment,{children:(null==A?void 0:A.length)>0?(0,l.jsxs)("div",{className:"grid  md:grid-cols-6 lg:grid-cols-8 gap-2 display-flex",children:[(0,l.jsx)("div",{className:"md:col-span-2   lg:col-span-2 bg-transparent mt-5 border-r-2 border-[#CBCBCB] pr-3",children:(0,l.jsx)("div",{className:"pl-2 text-[#302E41] w-full",children:null==A?void 0:A.map((e,t)=>(0,l.jsx)("button",{disabled:N===(null==e?void 0:e._id),children:(0,l.jsx)("div",{className:"text-center bg-white shadow-sm rounded-2xl p-2 text-sm border font-courierPrime  ".concat(N===(null==e?void 0:e._id)?"border-[#e86b34]  font-bold border-4 animate_flipInX animate_animated":"border-gray-300"," cursor-pointer mb-5"),onClick:()=>{if(N!==(null==e?void 0:e._id)){var t;Y(null!==(t=null==e?void 0:e._id)&&void 0!==t?t:"",null==e?void 0:e.article)}},children:(0,l.jsx)("h2",{className:"text-sm md:text-xs lg:text-lg md:p-1 font-bold",children:(null==e||e._id,e.headline)})},e._id+t)}))})}),(0,l.jsx)("div",{className:"lg:col-span-4 md:col-span-3 bg-white",children:(0,l.jsxs)("div",{className:"p-4 ".concat(N?"animate_animated animate_fadeInUp":""),children:[(0,l.jsx)("h2",{className:"text-3xl text-[black] font-bold font-copperplate mb-8",children:N&&(null===(t=b.find(e=>e._id===N))||void 0===t?void 0:t.headline)}),N&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsxs)("h1",{className:"text-lg font-courierPrime text-[#44576D] pr-5",children:["By AI ",null==y?void 0:null===(s=y.user)||void 0===s?void 0:s.name]}),(0,l.jsx)("p",{className:"bg-gradient-to-r from-orange-100 to-orange-200 hover:bg-orange-100    text-white    text-sm rounded-full font-copperplate py-2 px-4",children:"@PFFT.AI"})]}),(0,l.jsx)("div",{className:"h-[1px] lg:w-2/5 xl:w-[25%] bg-gray-400 rounded-xl  w-full mt-[0.55rem]"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("div",{className:"mb-4 text-[#424242] font-courierPrime text-[22px]",children:S.split("<br>").map((e,t)=>(0,l.jsxs)(r.Fragment,{children:[e,(0,l.jsx)("br",{})]},e+t))})})]})]})}),(0,l.jsx)("div",{className:" lg:col-span-2 flex flex-col justify-start items-end space-between px-4 md:col-span-1 h-fit ",children:(0,l.jsxs)("div",{className:"grid grid-rows-3 mx-5 overflow-hidden gap-6 justify-between",children:[(0,l.jsxs)("div",{className:"grid justify-end row-span-1 relative h-fit",children:[(0,l.jsx)("div",{onClick:X,className:"flex justify-end",children:(0,l.jsx)("img",{className:"cursor-pointer flex justify-end w-[40px] h-[40px] sm:w-[50px] sm:h-[50px] slg:w-[40px] slg:h-[40px] xl:w-[60px] xl:h-[60px]",src:"/assets/images/menu_icon.svg",alt:"Image"})}),(0,l.jsx)("div",{className:"".concat(j?"":"invisible"," mt-[1.5rem] border-[#FF4738] lg:mt-[1rem] slg:w-fit slg:mt-[1rem] xl:w-[150px]"),children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{onClick:()=>{f.push("/")},className:"cursor-pointer border-[2px] border-[#FF3633] font-[400]  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0",children:"PFFT"}),!O&&(0,l.jsx)("li",{onClick:()=>{f.push("/payment")},className:"cursor-pointer border-[2px] border-[#FF3633] font-[400]  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0",children:"Payment"}),(0,l.jsx)("li",{className:"cursor-pointer border-[2px] border-[#FF3633]  text-[black] text-[14px]  bg-[#FDDDD2] py-2   slg:text-[16px] slg:py-3  font-courierPrime px-5 text-center   xl:py-4 xl:text-[20px] xl:px-0 font-bold",children:"History"})]})})]}),(0,l.jsx)("div",{className:"relative justify-center top-15 ",children:(0,l.jsxs)("div",{className:"relative justify-center",style:{minHeight:"100px"},children:[(0,l.jsx)("button",{className:"rounded-3xl bg-gradient-to-r from-orange-100 to-orange-200    2xl:w-[267px] 2xl:h-[106px]  2xl:text-[32px]   xl:w-[180px] xl:h-[100px]  xl:text-[30px]   lg:w-[150px] lg:h-[90px] lg:mb-[1rem] lg:text-[24px] lg:font-normal   slg:w-[120px] slg:h-[80px] slg:mb-[1rem] slg:text-[20px] slg:font-normal   md:w-[120px] md:h-[80px] md:mb-[1rem] md:text-[20px] md:font-normal   xs:w-[190px] xs:h-[56px]  xs:text-[20px]   w-[190px] h-[56px] text-[20px]   text-slate-50 font-courierPrime",onClick:()=>{q()},children:"Share"}),_&&(0,l.jsx)("div",{className:"w-full absolute  border-2 border-[#FF4738] bg-white rounded-2xl shadow-lg ",children:(0,l.jsxs)("ul",{className:"flex justify-around mx-2",children:[(0,l.jsx)(c.Z,{url:G,hashtag:"#pfft",children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[40px] h-[40px]   md:w-[30px] md:h-[30px]   xl:w-[40px] xl:h-[40px]  ",src:"/assets/images/facebook.png",alt:"Facebook"})}),(0,l.jsx)(o.Z,{url:G,title:N&&(null===(h=b.find(e=>e._id===N))||void 0===h?void 0:h.headline),via:null==y?void 0:null===(g=y.user)||void 0===g?void 0:g.name,children:(0,l.jsx)("img",{className:"inset-0 object-cover w-[40px] h-[40px]   md:w-[30px] md:h-[30px]   xl:w-[40px] xl:h-[40px] ",src:"/assets/images/twitter.png",alt:"Twitter"})})]})})]})})]})})]}):(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center content-center mt-40 md:mt-20",children:[(0,l.jsx)("img",{className:"   object-cover    w-[200px] h-[130px]   xs:w-[220px] xs:h-[150px]   xms:w-[230px] xms:h-[150px]   sm:w-[250px] sm:h-[170px]    md:w-[350px] md:h-[252px]    lg:w-[580px] lg:h-[390px]   xl:w-[750px] xl:h-[530px]    animate__animated animate__bounce",src:"/assets/images/blocked_words.svg",alt:"Image"}),(0,l.jsxs)("div",{className:"   my-12 mx-12 text-center   text-[7px]   xs:text-[10px]   xms:text-[11px]   sm:text-[15px]   md:text-[20px]   lg:text-[25px]   xl:text-[35px]   cursor-pointer leading-[40px] font-courierPrime ",children:[(0,l.jsx)("span",{className:"font-[400] text-[black]",children:"Oops! Looks like there's no history available. "}),(0,l.jsx)("span",{className:"text-[#FF3031]",onClick:()=>{f.push("/")},children:"pfft"})]})]})})})})})})]})})};var f=g},2518:function(){}},function(e){e.O(0,[379,570,201,182,774,888,179],function(){return e(e.s=3639)}),_N_E=e.O()}]);